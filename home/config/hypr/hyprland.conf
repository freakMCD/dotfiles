# Modifier keys
$mod    = SUPER
$amod   = ALT + $mod
$cmod   = CONTROL + $mod
$smod   = SHIFT + $mod
$scmod  = CONTROL + SHIFT + $mod
$cmod   = CONTROL + $mod

# Animations
animations {
    enabled = false
}

# Window binds
binds {
    allow_pin_fullscreen = 1
}

# Window decoration
decoration {
    blur {
        enabled = false
    }
}

# Dwindle layout
dwindle {
    default_split_ratio  = 1.1
    force_split          = 2
    special_scale_factor = 0.6
}

# General settings
general {
    allow_tearing        = false
    border_size          = 1
    col.active_border    = rgba(ff4500ee) rgba(ff6347ee) 135deg
    col.inactive_border  = rgba(595959aa)
    gaps_in              = 0
    gaps_out             = 0
    snap:enabled         = 1
}

# Group settings
group {
    groupbar {
        col.active           = rgba(ff450099) rgba(ff634799) 135deg
        col.inactive         = rgba(2a1c1088)
        col.locked_active    = rgba(ff6344aa)
        col.locked_inactive  = rgba(2a1c1066)
        gaps_in              = 0
        gaps_out             = 0
        indicator_gap        = 0
        indicator_height     = 6
        render_titles        = false
        rounding             = 0
        scrolling            = false
    }
    col.border_active          = rgba(ff4500cc) rgba(ff6347cc) 135deg
    col.border_inactive        = rgba(59595988)
    col.border_locked_active   = rgba(ff4500cc) rgba(ff6347cc) 135deg
    col.border_locked_inactive = rgba(59595988)
    merge_groups_on_drag       = false
    merge_groups_on_groupbar   = false
}

# Input devices
input {
    follow_mouse  = 1
    kb_layout     = us
    kb_variant    = altgr-intl
    mouse_refocus = false
    sensitivity   = 0.3
}

# Miscellaneous
misc {
    disable_hyprland_logo     = true
    disable_splash_rendering  = true
    enable_anr_dialog         = false
    enable_swallow            = true
}

# XWayland
xwayland {
    enabled = true
}

# Keybinds
# Workspaces
bind = $mod, 1, workspace, 1
bind = $mod, 2, workspace, 2
bind = $mod, 3, workspace, 3
bind = $mod, 4, workspace, 4
bind = $mod, F1, workspace, 5
bind = $mod, F2, workspace, 6
bind = $mod, F3, workspace, 7
bind = $mod, F4, workspace, 8
bind = $mod, Z, workspace, 9

bind = $smod, 1, movetoworkspace, 1
bind = $smod, 2, movetoworkspace, 2
bind = $smod, 3, movetoworkspace, 3
bind = $smod, 4, movetoworkspace, 4
bind = $smod, F1, movetoworkspace, 5
bind = $smod, F2, movetoworkspace, 6
bind = $smod, F3, movetoworkspace, 7
bind = $smod, F4, movetoworkspace, 8
bind = $smod, Z, movetoworkspace, 9

# Focus
bind = $mod, h, movefocus, l
bind = $mod, l, movefocus, r
bind = $mod, k, movefocus, u
bind = $mod, j, movefocus, d

bind = $smod, h, movewindow, l
bind = $smod, l, movewindow, r
bind = $smod, k, movewindow, u
bind = $smod, j, movewindow, d

# Mouse workspace switching
bind = $mod, mouse_down, workspace, e-1
bind = $mod, mouse_up, workspace, e+1

# Screenshots
bind = , Print, exec, hyprshot -m output
bind = SHIFT, Print, exec, hyprshot -m window
bind = $mod, Print, exec, hyprshot -z -m region
bind = MOD5, Print, exec, $HOME/nix/scripts/record.sh

# System controls
bind = $cmod, F12, exec, hyprctl notify 0 30000 'rgb(ff0088)' '   Shutting down in 15s'; systemctl poweroff --when=+15
bind = $mod, f, fullscreen
bind = $mod, Space, togglefloating
bind = $smod, c, killactive
bind = $mod, U, moveoutofgroup
bind = $smod, Y, lockactivegroup, toggle

# Group navigation
bind = $mod, TAB, changegroupactive, f
bind = $smod, TAB, changegroupactive, b
bind = $mod, grave, togglegroup

# Special workspaces
bind = $mod, M, togglespecialworkspace, neomutt
bind = $mod, N, togglespecialworkspace, newsraft
bind = $mod, O, togglespecialworkspace, openfile

# Launchers
bind = $mod, q, exec, foot
bind = $mod, R, exec, fuzzel

# Mouse window actions
bindm = $mod, mouse:272, movewindow
bindm = $mod, mouse:273, resizewindow

# Volume
binde = MOD5, Up, exec, $HOME/nix/scripts/volume-notif up
binde = MOD5, Down, exec, $HOME/nix/scripts/volume-notif down
binde = MOD5, Delete, exec, $HOME/nix/scripts/volume-notif mute
binde = $mod, Delete, exec, $HOME/nix/scripts/volume-notif mute-mic

# Environment
env = XDG_CURRENT_DESKTOP,Hyprland
env = XDG_SESSION_DESKTOP,Hyprland
env = HYPRLAND_NO_SD_NOTIFY,1
env = HYPRCURSOR_THEME,Future-Cyan-Hyprcursor_Theme
env = HYPRCURSOR_SIZE,32
env = XCURSOR_SIZE,16

# Autostart
exec-once = fnott
exec-once = udiskie
exec-once = hypridle
exec-once = yambar

# Window rules
windowrule = suppressevent maximize,class:^(libreoffice.*)$
windowrule = float,class:(^(org-geogebra-desktop)),title:(Algebra)
windowrule = float,class:(^(org-geogebra-desktop)),title:(^(win))
windowrule = tile,title:(^(GeoGebra Classic))
windowrule = opacity 1 1 0.97, class:(^(foot))

windowrule = workspace 1,class:(org.qutebrowser.qutebrowser|firefox)
windowrule = workspace 2,class:(org.pwmt.zathura)
windowrule = workspace 3,class:(libreoffice)
windowrule = workspace 4,class:(^(org-geogebra-desktop))
windowrule = workspace 5,class:(.qemu-system-x86_64-wrapped)
windowrule = tile,class:(.qemu-system-x86_64-wrapped)
windowrule = group, workspace:1
windowrule = group override barred, class:(^(foot))

# Special workspace commands
workspace = special:neomutt, on-created-empty: foot --app-id=neomutt neomutt
workspace = special:newsraft, on-created-empty: foot --app-id=newsraftsilent newsraft
workspace = special:kalker, on-created-empty: foot --app-id=kalker kalker
workspace = special:openfile, on-created-empty: foot --app-id=openfile open_file

